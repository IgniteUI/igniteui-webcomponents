@use 'styles/utilities' as *;
@use '../../light/themes' as *;

$theme: $bootstrap;
$border-size: rem(1px);

:host([part='days-view']) {
    overflow: hidden;
    position: relative;
    padding: 0 0 rem(4px) 0;
    gap: rem(6px);
}

:host([part='days-view']) + :host([part='days-view']) {
    margin-inline-start: rem(8px);
}

[part~='days-row'][part~='first'] {
    background: var-get($theme, 'header-background');
    border-bottom: rem(1px) solid var-get($theme, 'border-color');
}

[part~='date'],
[part~='week-number'] {
    border-top: $border-size solid transparent;
    border-bottom: $border-size solid transparent;
}

[part~='label'] {
    font-style: italic;
    color: var-get($theme, 'weekday-color');

    [part~='week-number-inner'] {
        color: var-get($theme, 'weekday-color');
    }
}

[part~='week-number-inner'] {
    color: var-get($theme, 'week-number-foreground');
    background: var-get($theme, 'week-number-background');
    border: none;
    font-style: italic;

    &::after {
        background: var-get($theme, 'week-number-background');
    }
}

[part='week-number-inner first'] {
    border-top-left-radius: var-get($theme, 'week-number-border-radius');
    border-top-right-radius: var-get($theme, 'week-number-border-radius');
}

[part='week-number-inner last'] {
    border-bottom-left-radius: var-get($theme, 'week-number-border-radius');
    border-bottom-right-radius: var-get($theme, 'week-number-border-radius');
}

[part~='date'][part~='range'],
[part~='date'][part~='range'][part~='preview'] {
    background: var-get($theme, 'date-selected-range-background');
    border-top-style: solid;
    border-bottom-style: solid;
    border-top-color: var-get($theme, 'date-range-preview-border-color');
    border-bottom-color: var-get($theme, 'date-range-preview-border-color');
}

[part~='date'][part~='range'][part~='selected'][part~='first'],
[part~='date'][part~='range'][part~='selected'][part~='last'],
[part~='date'][part~='range'][part~='preview'][part~='first'],
[part~='date'][part~='range'][part~='preview'][part~='last'] {
    &::after {
        background: var-get($theme, 'date-selected-range-background');
        border-color: var-get($theme, 'date-selected-range-background');
    }
}

[part~='date'][part~='range'][part~='first'],
[part~='date'][part~='range'][part~='last'] {
    background: transparent;
    border-top-color: transparent;
    border-bottom-color: transparent;

    &::after {
        border-block-width: $border-size;
        border-block-style: solid;
    }
}

[part~='date'][part~='range'][part~='preview'][part~='first'],
[part~='date'][part~='range'][part~='preview'][part~='last'] {
    background: transparent;
    border-top-color: transparent;
    border-bottom-color: transparent;
}

[part~='date-inner'] {
    border: $border-size solid var-get($theme, 'date-border-color');
    border-radius: var-get($theme, 'date-border-radius');

    &:hover {
        color: var-get($theme, 'date-hover-foreground');
        background: var-get($theme, 'date-hover-background');
        border-color: var-get($theme, 'date-hover-border-color');
    }

    &:focus {
        color: var-get($theme, 'date-hover-foreground');
        background: var-get($theme, 'date-hover-background');
        border-color: var-get($theme, 'date-hover-border-color');
    }
}

[part~='weekend'] {
    color: var-get($theme, 'weekend-color');
}

[part~='inactive'] {
    color: var-get($theme, 'inactive-color');
}

[part~='date-inner'][part~='range'][part~='preview'],
[part~='date-inner'][part~='range'] {
    color: var-get($theme, 'date-selected-range-foreground');
}

[part~='date-inner'][part~='current'] {
    position: relative;
    color: var-get($theme, 'date-current-foreground');
    background: var-get($theme, 'date-current-background');
    box-shadow: inset 0 0 0 rem(1px) var-get($theme, 'date-current-outline');

    &:hover {
        color: var-get($theme, 'date-current-hover-foreground');
        background: var-get($theme, 'date-current-hover-background');
        box-shadow: inset 0 0 0 rem(1px) var-get($theme, 'date-current-hover-outline');
    }

    &:focus {
        color: var-get($theme, 'date-current-focus-foreground');
        background: var-get($theme, 'date-current-focus-background');
        box-shadow: inset 0 0 0 rem(1px) var-get($theme, 'date-current-focus-outline');
    }

    &::after {
        border-radius: inherit;
    }
}

[part~='date-inner'][part~='selected'] {
    color: var-get($theme, 'date-selected-foreground');
    background: var-get($theme, 'date-selected-background');
    border-color: var-get($theme, 'date-selected-border-color');

    &:hover {
        color: var-get($theme, 'date-selected-hover-foreground');
        background: var-get($theme, 'date-selected-hover-background');
        border-color: var-get($theme, 'date-selected-hover-border-color');
    }

    &:focus {
        color: var-get($theme, 'date-selected-focus-foreground');
        background: var-get($theme, 'date-selected-focus-background');
        border-color: var-get($theme, 'date-selected-focus-border-color');
    }
}

[part~='date-inner'][part~='selected'][part~='current'],
[part~='date-inner'][part~='selected'][part~='current'][part~='range'],
[part~='date-inner'][part~='current'][part~='preview'] {
    color: var-get($theme, 'date-selected-current-range-foreground');
    background: var-get($theme, 'date-selected-current-range-background');
    border-color: transparent;

    &:hover {
        color: var-get($theme, 'date-selected-current-range-hover-foreground');
        background: var-get($theme, 'date-selected-current-range-hover-background');
        border-color: transparent;

        &::after {
            background: var-get($theme, 'date-current-hover-background');
        }
    }

    &:focus {
        color: var-get($theme, 'date-selected-current-range-focus-foreground');
        background: var-get($theme, 'date-selected-current-range-focus-background');
        border-color: transparent;

        &::after {
            background: var-get($theme, 'date-current-focus-background');
        }
    }

    &::after {
        content: '';
        position: absolute;
        width: calc(100% - 4px);
        height: calc(100% - 4px);
        background: var-get($theme, 'date-current-background');
        z-index: -1;
    }
}

[part~='date-inner'][part~='selected'][part~='current'][part~='single'] {
    color: var-get($theme, 'date-selected-current-foreground');
    background:  var-get($theme, 'date-selected-current-background');
    border-color: var-get($theme, 'date-selected-border-color');

    &:hover {
        color: var-get($theme, 'date-selected-current-hover-foreground');
        background:  var-get($theme, 'date-selected-current-hover-background');
        border-color: var-get($theme, 'date-selected-hover-border-color');
    }

    &:focus {
        color: var-get($theme, 'date-selected-current-focus-foreground');
        background:  var-get($theme, 'date-selected-current-focus-background');
        border-color: var-get($theme, 'date-selected-focus-border-color');
    }
}

[part~='date-inner'][part~='range'][part~='selected'][part~='first'],
[part~='date-inner'][part~='range'][part~='selected'][part~='last'] {
    color: var-get($theme, 'date-selected-range-start-foreground');
    background: var-get($theme, 'date-selected-range-start-background');

    &:hover {
        color: var-get($theme, 'date-selected-range-start-hover-foreground');
        background: var-get($theme, 'date-selected-range-start-hover-background');
    }

    &:focus {
        color: var-get($theme, 'date-selected-range-start-focus-foreground');
        background: var-get($theme, 'date-selected-range-start-focus-background');
    }
}

[part~='date-inner'][part~='range'][part~='selected'],
[part~='date-inner'][part~='range'][part~='selected'][part~='preview'],
[part~='date-inner'][part~='range'][part~='selected'][part~='current'] {
    color: var-get($theme, 'date-selected-range-foreground');
    background: var-get($theme, 'date-selected-range-background');

    &:hover {
        color: var-get($theme, 'date-selected-range-hover-foreground');
        background: var-get($theme, 'date-selected-range-hover-background');
    }

    &:focus {
        color: var-get($theme, 'date-selected-range-focus-foreground');
        background: var-get($theme, 'date-selected-range-focus-background');
    }

}


[part~='date-inner'][part~='range'][part~='selected'][part~='first'],
[part~='date-inner'][part~='range'][part~='selected'][part~='last'],
[part~='date-inner'][part~='range'][part~='current'][part~='preview'][part~='first'],
[part~='date-inner'][part~='range'][part~='current'][part~='preview'][part~='last'],
[part~='date-inner'][part~='range'][part~='preview'][part~='first'],
[part~='date-inner'][part~='range'][part~='preview'][part~='last'] {
    color: var-get($theme, 'date-selected-range-start-foreground');
    background: var-get($theme, 'date-selected-range-start-background');
    border-color: var-get($theme, 'date-selected-border-color');

    &:hover {
        color: var-get($theme, 'date-selected-range-start-hover-foreground');
        background: var-get($theme, 'date-selected-range-start-hover-background');
        border-color: var-get($theme, 'date-selected-hover-border-color');
    }

    &:focus {
        color: var-get($theme, 'date-selected-range-start-focus-foreground');
        background: var-get($theme, 'date-selected-range-start-focus-background');
        border-color: var-get($theme, 'date-selected-hover-border-color');
    }
}

[part~='date-inner'][part~='selected'][part~='current'][part~='first'][part~='last'],
[part~='date-inner'][part~='range'][part~='current'][part~='preview'][part~='last'],
[part~='date-inner'][part~='range'][part~='current'][part~='preview'][part~='first'] {
    &:hover {
        color: var-get($theme, 'date-selected-current-hover-foreground');
    }

    &:focus {
        color: var-get($theme, 'date-selected-current-focus-foreground');
    }
}

[part~='date-inner'][part~='range'][part~='selected'][part~='current'][part~='first'],
[part~='date-inner'][part~='range'][part~='selected'][part~='current'][part~='last'] {
    color: var-get($theme, 'date-selected-current-foreground');
    background: var-get($theme, 'date-selected-current-background');
    border-color: var-get($theme, 'date-selected-border-color');

    &:hover {
        color: var-get($theme, 'date-selected-current-hover-foreground');
        background: var-get($theme, 'date-selected-current-hover-background');
        border-color: var-get($theme, 'date-selected-hover-border-color');
    }

    &:focus {
        color: var-get($theme, 'date-selected-current-focus-foreground');
        background: var-get($theme, 'date-selected-current-focus-background');
        border-color: var-get($theme, 'date-selected-focus-border-color');
    }
}

[part~='date-inner'][part~='range'][part~='selected'][part~='current'][part~='special'][part~='first'],
[part~='date-inner'][part~='range'][part~='selected'][part~='current'][part~='special'][part~='last'] {
    background: var-get($theme, 'date-special-background');
    border-color: var-get($theme, 'date-selected-border-color');

    &:hover {
        color: var-get($theme, 'date-selected-current-hover-foreground');
    }

    &:focus {
        color: var-get($theme, 'date-selected-current-focus-foreground');
    }
}

[part~='date-inner'][part~='selected'][part~='current'][part~='range'] {
    color: var-get($theme, 'date-selected-current-range-foreground');

    &:hover {
        color: var-get($theme, 'date-selected-current-range-hover-foreground');
        background: var-get($theme, 'date-selected-current-range-hover-background');
        border-color: var-get($theme, 'date-selected-hover-border-color');
    }

    &:focus {
        color: var-get($theme, 'date-selected-current-range-focus-foreground');
        background: var-get($theme, 'date-selected-current-range-focus-background');
        border-color: var-get($theme, 'date-selected-focus-border-color');
    }
}

[part~='date-inner'][part~='special'] {
    color: var-get($theme, 'date-special-foreground');
    background: var-get($theme, 'date-special-background');
    border-color: var-get($theme, 'date-selected-border-color');
    font-weight: 900;
}

[part~='date-inner'][part~='special'][part~='selected'] {
    color: var-get($theme, 'date-selected-foreground');
    background: var-get($theme, 'date-selected-background');
    border-color: var-get($theme, 'date-selected-border-color');
}

[part~='date-inner'][part~='special'][part~='range'],
[part~='date-inner'][part~='special'][part~='range'][part~='selected'] {
    color: var-get($theme, 'date-special-foreground');
    background: var-get($theme, 'date-special-background');
    border-color: var-get($theme, 'date-selected-border-color');

    &:hover {
        color: var-get($theme, 'date-selected-range-hover-foreground');
        background: var-get($theme, 'date-selected-range-hover-background');
    }

    &:focus {
        color: var-get($theme, 'date-selected-range-focus-foreground');
        background: var-get($theme, 'date-selected-range-focus-background');
    }
}

[part~='date-inner'][part~='special'][part~='current'] {
    background: var-get($theme, 'date-special-background');
    border-color: var-get($theme, 'date-special-background');
    font-weight: 500;

    &:hover,
    &:focus {
        color: var-get($theme, 'date-special-foreground');
        background: var-get($theme, 'date-selected-range-hover-background');
        border-color: var-get($theme, 'date-selected-range-hover-background')
    }
}

[part~='date-inner'][part~='special'][part~='current'][part~='selected'] {
    color: var-get($theme, 'date-current-foreground');
    background: var-get($theme, 'date-special-background');
    border-color: var-get($theme, 'date-selected-border-color');

    &:hover,
    &:focus {
        background: var-get($theme, 'date-selected-range-hover-background');
    }
}

[part~='date-inner'][part~='disabled'][part~='single'] {
    color: var-get($theme, 'date-disabled-foreground');
    background: var-get($theme, 'date-disabled-background')
}

[part~='date-inner'][part~='disabled'][part~='current'] {
    color: var-get($theme, 'date-disabled-current-foreground');
    background: var-get($theme, 'date-current-background')
}

[part~='date-inner'][part~='disabled'][part~='range'] {
    color: var-get($theme, 'date-disabled-range-foreground');
    background: var-get($theme, 'date-disabled-range-background')
}

[part~='date-inner'][part~='disabled'][part~='range'][part~='current'] {
    color: var-get($theme, 'date-disabled-current-range-foreground');
    background: var-get($theme, 'date-disabled-current-range-background')
}
