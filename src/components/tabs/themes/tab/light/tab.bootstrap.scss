@use '../../../../../styles/utilities' as *;
@use '../../../tabs.common' as *;
@use 'sass:map';

%header-focus-within {
    box-shadow: inset 0 0 0 var(--shadow-size--focus) var(--shadow-color--focus);
    border-radius: rem(4px);
    z-index: map.get($tabs-z-index, 'header-focus-within--bootstrap');

    &::after {
        display: none;
    }
}

%fake-column-border {
    border-block-end: rem(1px) solid var();
}

[part~='header'] {
    border-start-start-radius: rem(4px);
    border-start-end-radius: rem(4px);

    &:hover {
        box-shadow: inset 0 0 0 var(--shadow-size) var(--shadow-color--hover);
    }

    &::after {
        content: '';
        display: block;
        position: absolute;
        bottom: 0;
        inset-inline-start: 0;
        width: 100%;
        height: var(--shadow-size);
        background: var(--shadow-color);
        z-index: map.get($tabs-z-index, 'header-after--bootstrap');
    }

    &:focus-within {
        @extend %header-focus-within;

        &:hover {
            box-shadow: inset 0 0 0 var(--shadow-size--focus) var(--shadow-color--focus);
        }
    }
}

:host([selected]) {
    [part~='header'] {
        position: relative;
        box-shadow: inset 0 0 0 var(--shadow-size) var(--shadow-color);

        &::after {
            background: var(--header-background);
        }

        &:focus-within:hover,
        &:focus-within {
            @extend %header-focus-within;
        }
    }
}
