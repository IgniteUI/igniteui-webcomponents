@use 'styles/utilities' as *;
@use '../../light/themes' as *;

$theme: $bootstrap;

:host {
    transition: none;
    border-end-end-radius: 0;
    border-end-start-radius: 0;

    [part='header'] {
        border-radius: 0;

        &::before {
            content: '';
            position: absolute;
            border-radius: var-get($theme, 'border-radius') var-get($theme, 'border-radius') 0 0;
            inset: 0;
            z-index: -1;
        }
    }
}

:host(:hover) {
    [part='header'] {
        &::before {
            transition: box-shadow 100ms ease-in-out;
            box-shadow:
                inset 0 var(--_border-size) 0 0 var-get($theme, 'border-color--hover'),  /* Top */
                inset calc(var(--_border-size) * -1) 0 0 0 var-get($theme, 'border-color--hover'),  /* Left */
                inset var(--_border-size) 0 0 0 var-get($theme, 'border-color--hover'),  /* Right */
        }
    }
}

:host([selected]) {
    [part='header'] {
        position: relative;

        &::before {
            box-shadow:
                inset 0 var(--_border-size) 0 0 var-get($theme, 'border-color'),  /* Top */
                inset calc(var(--_border-size) * -1) 0 0 0 var-get($theme, 'border-color'),  /* Left */
                inset var(--_border-size) 0 0 0 var-get($theme, 'border-color'),  /* Right */
        }
    }
}

:host([selected]:hover) {
    [part='header'] {
        border-top-color: var-get($theme, 'border-color');
        border-inline-color: var-get($theme, 'border-color');
        border-bottom-color: var-get($theme, 'item-background');
    }
}

:host(:not([selected])) {
    [part='header'] {
        border-radius: 0;
        box-shadow: inset 0 calc(var(--_border-size) * -1) 0 0 var-get($theme, 'border-color');

        &::before {
            height: calc(100% - var(--_border-size));
        }
    }
}

:host(:focus),
:host(:active),
:host(:focus-within),
:host([selected]:focus),
:host([selected]:active),
:host([selected]:focus-within) {
    [part='header'] {
        color: var-get($theme, 'item-hover-color');
        background: var-get($theme, 'item-hover-background');
        z-index: 1;
    }
}

:host(:focus-within),
:host(:active) {
    [part='header'] {
        &::after {
            content: '';
            pointer-events: none;
            user-select: none;
            position: absolute;
            width: 100%;
            height: 100%;
            box-shadow: inset 0 0 0 rem(2px) var-get($theme, 'item-hover-color');
            border-radius: var-get($theme, 'border-radius');
            z-index: 2;
        }
    }
}


