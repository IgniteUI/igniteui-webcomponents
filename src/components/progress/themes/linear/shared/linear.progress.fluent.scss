@use 'styles/utilities' as *;
@use '../../vars' as *;
@use '../light/themes' as *;
@use '../../animations' as *;

$theme: $fluent;
$track-color: color(gray, 200);

:host {
    --track-size: #{rem(2px)};
    --linear-animation-duration: 3000ms;
}

:host([dir='rtl']) {
    [part~='indeterminate'] {
        animation-name: indeterminate-bar-fluent-rtl;
    }
}

[part~='track'] {
    border-radius: var-get($theme, 'track-border-radius');
    background: $track-color;
    margin: rem(8px) 0;
}

[part~='label'] {
    font-size: rem(14px);
    font-weight: 400;
}

[part~='value'] {
    color: $text-color;
}

[part~='primary']:not([part~='indeterminate']) {
    background-color: $primary-color;
}

[part~='primary'] {
    &::after {
        background-color: $primary-color;
    }
}

[part~='indeterminate']:not([part~='secondary']) {
    width: 33% !important;
    min-width: 33%;
    animation-name: indeterminate-bar-fluent;
    animation-duration: var(--linear-animation-duration);
    animation-timing-function: ease;
    animation-iteration-count: infinite;
    left: auto;

    &::after {
        display: none;
    }
}

[part~='secondary'] {
    display: none;
}

[part~='primary'][part~='indeterminate'] {
    background: linear-gradient(90deg, transparent 0%, $primary-color 50%, transparent 100%);
}

[part~='danger'][part~='indeterminate'] {
    background: linear-gradient(90deg, transparent 0%, $danger-color 50%, transparent 100%);
}

[part~='warning'][part~='indeterminate'] {
    background: linear-gradient(90deg, transparent 0%, $warning-color 50%, transparent 100%);
}

[part~='info'][part~='indeterminate'] {
    background: linear-gradient(90deg, transparent 0%, $info-color 50%, transparent 100%);
}

[part~='success'][part~='indeterminate'] {
    background: linear-gradient(90deg, transparent 0%, $success-color 50%, transparent 100%);
}

[part~='striped'][part~='primary']:not([part~='indeterminate']) {
    @include stripe-colors($primary-color, $stripe-grays, $stripe-size, -45deg);
}

[part~='striped'][part~='primary'] {
    &::after {
        @include stripe-colors($primary-color, $stripe-grays, $stripe-size, -45deg);
    }
}

[part~='danger']:not([part~='indeterminate']) {
    background-color: $danger-color;
}

[part~='danger'] {
    &::after {
        background-color: $danger-color;
    }
}

[part~='striped'][part~='danger']:not([part~='indeterminate']) {
    @include stripe-colors($danger-color, $stripe-grays, $stripe-size, -45deg);
}

[part~='striped'][part~='danger'] {
    &::after {
        @include stripe-colors($danger-color, $stripe-grays, $stripe-size, -45deg);
    }
}

[part~='warning']:not([part~='indeterminate']) {
    background-color: $warning-color;
}

[part~='warning'] {
    &::after {
        background-color: $warning-color;
    }
}

[part~='striped'][part~='warning']:not([part~='indeterminate']) {
    @include stripe-colors($warning-color, $stripe-grays, $stripe-size, -45deg);
}

[part~='striped'][part~='warning'] {
    &::after {
        @include stripe-colors($warning-color, $stripe-grays, $stripe-size, -45deg);
    }
}

[part~='info']:not([part~='indeterminate']) {
    background-color: $info-color;
}

[part~='info'] {
    &::after {
        background-color: $info-color;
    }
}

[part~='striped'][part~='info']:not([part~='indeterminate']) {
    @include stripe-colors($info-color, $stripe-grays, $stripe-size, -45deg);
}

[part~='striped'][part~='info'] {
    &::after {
        @include stripe-colors($info-color, $stripe-grays, $stripe-size, -45deg);
    }
}

[part~='success']:not([part~='indeterminate']) {
    background-color: $success-color;
}

[part~='success'] {
    &::after {
        background-color: $success-color;
    }
}

[part~='striped'][part~='success']:not([part~='indeterminate']) {
    @include stripe-colors($success-color, $stripe-grays, $stripe-size, -45deg);
}

[part~='striped'][part~='success'] {
    &::after {
        @include stripe-colors($success-color, $stripe-grays, $stripe-size, -45deg);
    }
}
